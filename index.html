<html>
	<head>
		<script type="importmap">
			{
				"imports": {
					"vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js"
				}
			}
		</script>

		<script type="module">
			import { createApp } from "vue";

			const app = createApp({
				data() {
					return {
						buttonText: "Generate PDF",
						generatedPDFURL: null,
					};
				},
				methods: {
					generate() {
						this.buttonText = "Generating PDF...";
						this.generatedPDFURL = null;
						fetch(
							"https://elliot.up.railway.app/print/pdf/now/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJodHRwczovL2VsbGlvdC1kZW1vLnBhZ2VzLmRldi9zaG9ydCIsImRvd25sb2FkIjpmYWxzZSwiaW5qZWN0UG9seWZpbGwiOmZhbHNlfQ.wy69ZiUdaF3QMY8a73XTEZgA_whq_1kYfjNdetOJS68"
						).then((response) => {
							this.buttonText = "Generate again";
							this.generatedPDFURL = response.url;
							// window.open(response.url, "_blank");
						});
					},
				},
			});

			app.mount("#app");
		</script>

		<style>
			table {
				border-collapse: collapse;
			}
			td {
				border: 1px solid black;
				padding: 10px;
			}
		</style>
	</head>
	<body>
		<div id="app">
			<table>
				<tr>
					<td>Short</td>
					<td>
						<a href="https://elliot-demo.pages.dev/short" target="_blank"
							>Input</a
						>
					</td>
					<td>
						<a
							href="https://elliot-demo.valentin-schabschneider.workers.dev/short?outputType=html"
							target="_blank"
							>Preview</a
						>
					</td>
					<td>
						<a
							href="https://elliot-demo.valentin-schabschneider.workers.dev/short?outputType=pdf"
							target="_blank"
							>PDF</a
						>
					</td>
					<td>
						<button @click="generate()">{{ buttonText }}</button>
						<a
							v-if="generatedPDFURL !== null"
							:href="generatedPDFURL"
							target="_blank"
							>view</a
						>
					</td>
				</tr>
				<tr>
					<td>Long</td>
					<td>
						<a href="https://elliot-demo.pages.dev/long" target="_blank"
							>Input</a
						>
					</td>
					<td>
						<a
							href="https://elliot-demo.valentin-schabschneider.workers.dev/long?outputType=html"
							target="_blank"
							>Preview</a
						>
					</td>
					<td>
						<a
							href="https://elliot-demo.valentin-schabschneider.workers.dev/long?outputType=pdf"
							target="_blank"
							>PDF</a
						>
					</td>
				</tr>
			</table>
		</div>
	</body>
</html>
